# ğŸŒ¿ ãƒ–ãƒ©ãƒ³ãƒç®¡ç†ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

å®Ÿéš›ã«container-useã‚’ä½¿ç”¨ã—ã¦ç™ºè¦‹ã—ãŸèª²é¡Œã¨ã€ãã®è§£æ±ºç­–ã‚’è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚

## ğŸ“‹ ç›®æ¬¡
- [å®Ÿéš›ã«ä½¿ã£ã¦ã¿ã¦åˆ†ã‹ã£ãŸèª²é¡Œ](#å®Ÿéš›ã«ä½¿ã£ã¦ã¿ã¦åˆ†ã‹ã£ãŸèª²é¡Œ)
- [å®‰å…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼](#å®‰å…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼)
- [ãƒˆãƒ©ãƒ–ãƒ«å›é¿ã®ãŸã‚ã®æ³¨æ„ç‚¹](#ãƒˆãƒ©ãƒ–ãƒ«å›é¿ã®ãŸã‚ã®æ³¨æ„ç‚¹)
- [ãƒ–ãƒ©ãƒ³ãƒã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—](#ãƒ–ãƒ©ãƒ³ãƒã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—)

## ğŸ’¡ å®Ÿéš›ã«ä½¿ã£ã¦ã¿ã¦åˆ†ã‹ã£ãŸèª²é¡Œ

### ğŸš¨ èª²é¡Œ1: å¤ã„ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰ã®ä½œæ¥­ã«ã‚ˆã‚‹ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆ

#### å•é¡Œã®ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆå®Ÿä½“é¨“ï¼‰
```bash
# 3æ—¥å‰ã«ä½œæˆã•ã‚ŒãŸå¤ã„ç’°å¢ƒã§ä½œæ¥­
cu list
# â†’ old-environment (3æ—¥å‰ã«ä½œæˆã€å¤ã„ãƒ–ãƒ©ãƒ³ãƒãƒ™ãƒ¼ã‚¹)

cu terminal old-environment
# â†’ å¤ã„ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã§æ–°ã—ã„æ©Ÿèƒ½ã‚’é–‹ç™º
# â†’ ãƒãƒ¼ã‚¸æ™‚ã«å¤§é‡ã®ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãŒç™ºç”Ÿ
```

#### å®Ÿéš›ã«ç™ºç”Ÿã—ãŸå•é¡Œ
- ä»–ã®é–‹ç™ºè€…ã®å¤‰æ›´ãŒåæ˜ ã•ã‚Œã¦ã„ãªã„
- ãƒãƒ¼ã‚¸æ™‚ã«äºˆæœŸã—ãªã„ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆ
- ä½œæ¥­ã®ã‚„ã‚Šç›´ã—ãŒå¿…è¦ã«ãªã‚‹å ´åˆã‚‚
- ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒå›°é›£ï¼ˆã©ã‚ŒãŒæ–°ã—ã„å¤‰æ›´ã‹ä¸æ˜ï¼‰

#### è§£æ±ºç­–
**å¿…ãšæœ€æ–°ã®ä½œæ¥­ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰ç’°å¢ƒã‚’ä½œæˆ**

```bash
# âœ… æ­£ã—ã„ãƒ‘ã‚¿ãƒ¼ãƒ³
# 1. ç¾åœ¨ã®ä½œæ¥­ãŒã‚ã‚Œã°å®Œäº†ãƒ»ãƒãƒ¼ã‚¸
cu merge current-environment-id

# 2. ä½œæ¥­ãƒ–ãƒ©ãƒ³ãƒãŒæœ€æ–°ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
git checkout main
git pull origin main

# 3. æ–°ã—ã„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§æ–°ã—ã„ä½œæ¥­ã‚’é–‹å§‹
claude
> "æ–°æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¦ãã ã•ã„"  # â† æœ€æ–°ã®ãƒ–ãƒ©ãƒ³ãƒãƒ™ãƒ¼ã‚¹ã§ä½œæ¥­ã•ã‚Œã‚‹
```

### ğŸ“Š èª²é¡Œ2: diffãŒè¦‹ã¥ã‚‰ãå¤‰æ›´å†…å®¹ã®æŠŠæ¡ãŒå›°é›£

#### å•é¡Œã®ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆå®Ÿä½“é¨“ï¼‰
```bash
# cu diffã®å‡ºåŠ›ä¾‹
cu diff environment-id
# â†’ å¤§é‡ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒä¸€åº¦ã«è¡¨ç¤º
# â†’ ã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒé‡è¦ãªå¤‰æ›´ãªã®ã‹åˆ¤åˆ¥å›°é›£
# â†’ ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒå¤§å¤‰ã§ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«æ™‚é–“ãŒã‹ã‹ã‚‹
```

#### å®Ÿéš›ã®å›°ã‚Šã”ã¨
- ãƒ•ã‚¡ã‚¤ãƒ«æ•°ãŒå¤šã„ã¨å…¨ä½“åƒãŒè¦‹ãˆãªã„
- é‡è¦ãªå¤‰æ›´ã¨ãƒã‚¤ãƒŠãƒ¼ãªå¤‰æ›´ã®åŒºåˆ¥ãŒå›°é›£
- ãƒ¬ãƒ“ãƒ¥ãƒ¼åŠ¹ç‡ãŒæ‚ªã„

#### è§£æ±ºç­–
**æ®µéšçš„ãªç¢ºèªã¨checkoutã§ã®è©³ç´°ç¢ºèª**

```bash
# âœ… æ”¹å–„ã•ã‚ŒãŸãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
# 1. æ¦‚è¦ç¢ºèª
cu diff <environment-id>

# 2. ã‚ˆã‚Šè©³ç´°ãªç¢ºèªã®ãŸã‚checkout
cu checkout <environment-id>

# 3. ãƒ•ã‚¡ã‚¤ãƒ«åˆ¥ã«å¤‰æ›´ã‚’ç¢ºèª
git status
git diff --name-only  # å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§
git diff --stat       # å¤‰æ›´ã®çµ±è¨ˆæƒ…å ±

# 4. é‡è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’å€‹åˆ¥ã«ç¢ºèª
git diff main -- important-file.js
git diff main -- package.json

# 5. æ–°è¦ä½œæˆãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª
git ls-files --others --exclude-standard
```

#### ğŸ¨ **diffè¡¨ç¤ºã®æ”¹å–„ãƒ„ãƒ¼ãƒ«ï¼ˆå®Ÿè¨¼æ¸ˆã¿ï¼‰**

##### **ğŸ” éç ´å£Šçš„ãªç¢ºèªæ–¹æ³•ï¼ˆæ¨å¥¨ï¼‰**
```bash
# checkoutã›ãšã«ç›´æ¥ç¢ºèªï¼ˆç¾åœ¨ã®ä½œæ¥­ã‚’ä¸­æ–­ã—ãªã„ï¼‰
npx difit container-use/<environment-id> main

# ä¾‹ï¼šliterate-bulldogç’°å¢ƒã®ç¢ºèª
npx difit container-use/literate-bulldog main

# è¤‡æ•°ç’°å¢ƒã®ç›£è¦–
cu list
npx difit container-use/env-1 main
npx difit container-use/env-2 main

# ç’°å¢ƒåŒå£«ã®æ¯”è¼ƒ
npx difit container-use/env-1 container-use/env-2
```

**ãƒ¡ãƒªãƒƒãƒˆ**ï¼š
- âœ… ç¾åœ¨ã®ä½œæ¥­ã‚’ä¸­æ–­ã—ãªã„
- âœ… ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ä½œæ¥­ã‚’ç›£è¦–å¯èƒ½
- âœ… è¤‡æ•°ç’°å¢ƒã®æ¯”è¼ƒãŒç°¡å˜
- âœ… GitHubé¢¨UIã§è¦‹ã‚„ã™ã„è¡¨ç¤º

##### **å¾“æ¥ã®æ–¹æ³•ï¼ˆcheckoutãŒå¿…è¦ï¼‰**
```bash
# GitHubé¢¨UIã§diffç¢ºèª
cu checkout <environment-id>
npx difit HEAD main

# ç¾åœ¨ã®ä½œæ¥­å†…å®¹ç¢ºèª
npx difit
npx difit .

# Node.js 21.0.0+ãŒå¿…è¦
node --version
```

##### **ãã®ä»–ã®æ”¹å–„ãƒ„ãƒ¼ãƒ«**
```bash
# deltaï¼ˆRustè£½ã€é«˜é€Ÿï¼‰
git diff main | delta

# diff-so-fancyï¼ˆã‚«ãƒ©ãƒ•ãƒ«è¡¨ç¤ºï¼‰
git diff main | diff-so-fancy

# batï¼ˆã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆï¼‰
git diff main | bat --language diff
```

## ğŸ”„ å®‰å…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### æ–°ã—ã„ä½œæ¥­ã‚’é–‹å§‹ã™ã‚‹å‰ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [ ] é€²è¡Œä¸­ã®ä½œæ¥­ãŒå®Œäº†ã—ã¦ã„ã‚‹ï¼ˆ`cu list`ã§ç¢ºèªï¼‰
- [ ] å®Œäº†ã—ãŸä½œæ¥­ãŒãƒãƒ¼ã‚¸æ¸ˆã¿ï¼ˆ`cu merge <env-id>`ï¼‰
- [ ] ãƒ™ãƒ¼ã‚¹ãƒ–ãƒ©ãƒ³ãƒï¼ˆmainç­‰ï¼‰ãŒæœ€æ–°ï¼ˆ`git pull origin main`ï¼‰
- [ ] æ–°ã—ã„Claude Codeã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ä½œæ¥­é–‹å§‹

### ãƒãƒ¼ã‚¸å‰ã®ç¢ºèªäº‹é …ï¼ˆæ”¹è‰¯ç‰ˆï¼‰

#### æ®µéšçš„ç¢ºèªãƒ—ãƒ­ã‚»ã‚¹ï¼ˆéç ´å£Šçš„æ–¹æ³•æ¨å¥¨ï¼‰
```bash
# Phase 1: éç ´å£Šçš„ãªæ¦‚è¦ç¢ºèªï¼ˆæ¨å¥¨ï¼‰
npx difit container-use/<environment-id> main

# Phase 2: è©³ç´°ç¢ºèªï¼ˆå¿…è¦ã«å¿œã˜ã¦checkoutï¼‰
cu checkout <environment-id>
npx difit HEAD main

# Phase 3: çµ±è¨ˆçš„ç¢ºèªï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
git diff --stat main
git log main..HEAD --oneline

# Phase 4: é‡è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®å€‹åˆ¥ç¢ºèªï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
git diff main -- src/
git diff main -- package.json

# Phase 5: ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
npm test
npm run build

# Phase 6: ãƒãƒ¼ã‚¸å®Ÿè¡Œ
git checkout main
cu merge <environment-id>
```

#### ãƒãƒ¼ã‚¸å¾Œã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼ˆé‡è¦ï¼‰
```bash
# ãƒãƒ¼ã‚¸ãŒå®Œäº†ã—ãŸå¾Œã€cuãƒ–ãƒ©ãƒ³ãƒã‚’å‰Šé™¤
git branch -d cu-<environment-id>

# ç†ç”±ï¼š
# - å¤ã„ãƒ–ãƒ©ãƒ³ãƒã®æ®‹å­˜ã‚’é˜²ã
# - æ¬¡å›ã®æ–°ã—ã„ä½œæ¥­ãŒå¸¸ã«æœ€æ–°çŠ¶æ…‹ã‹ã‚‰é–‹å§‹ã•ã‚Œã‚‹
# - ãƒ–ãƒ©ãƒ³ãƒã®æ··ä¹±ã‚„ç«¶åˆã‚’é˜²æ­¢
```

## ğŸš¨ ãƒˆãƒ©ãƒ–ãƒ«å›é¿ã®ãŸã‚ã®æ³¨æ„ç‚¹

### 1. diffã®è¦‹ã¥ã‚‰ã•ã¸ã®å¯¾ç­–

#### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–æ–¹æ³•
```bash
# ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä½œæ¥­ä¸­ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç¢ºèª
cu list  # ç¾åœ¨ã®ç’°å¢ƒç¢ºèª
npx difit container-use/<environment-id> main  # éç ´å£Šçš„ç¢ºèª

# è¤‡æ•°ç’°å¢ƒã®åŒæ™‚ç›£è¦–
npx difit container-use/frontend-work main
npx difit container-use/backend-work main
npx difit container-use/frontend-work container-use/backend-work
```

#### ã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®šã§åŠ¹ç‡åŒ–
```bash
# ~/.bashrc ã¾ãŸã¯ ~/.zshrc ã«è¿½åŠ 
alias cu-watch='npx difit container-use/$1 main'
alias cu-compare='npx difit container-use/$1 container-use/$2'

# ä½¿ç”¨ä¾‹
cu-watch literate-bulldog
cu-compare env-1 env-2
```

#### æ®µéšçš„ç¢ºèªæ–¹æ³•ï¼ˆå¾“æ¥ï¼‰
```bash
# cu diffãŒè¦‹ã¥ã‚‰ã„å ´åˆã®ç¢ºèªæ‰‹é †
cu checkout <environment-id>

# ã‚¹ãƒ†ãƒƒãƒ—1: æ¦‚è¦æŠŠæ¡
git diff --name-only main  # å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§
git diff main --stat       # ãƒ•ã‚¡ã‚¤ãƒ«åˆ¥å¤‰æ›´é‡

# ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåˆ¥ç¢ºèª
git diff main -- src/      # ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
git diff main -- tests/    # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
git diff main -- docs/     # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

# ã‚¹ãƒ†ãƒƒãƒ—3: è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
git diff main -- package.json
git diff main -- *.config.js
git diff main -- *.md

# ã‚¹ãƒ†ãƒƒãƒ—4: æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
git ls-files --others --exclude-standard
```

### 2. è¤‡æ•°ç’°å¢ƒã®ä¸¦è¡Œä½œæ¥­

#### ä¾å­˜é–¢ä¿‚ã‚’è€ƒæ…®ã—ãŸãƒãƒ¼ã‚¸é †åº
```bash
# è¤‡æ•°ã®ç’°å¢ƒãŒå­˜åœ¨ã™ã‚‹å ´åˆ
cu list

# å„ç’°å¢ƒã®çŠ¶æ…‹ã‚’éç ´å£Šçš„ã«ç¢ºèª
npx difit container-use/env-1 main
npx difit container-use/env-2 main
npx difit container-use/env-1 container-use/env-2  # ç’°å¢ƒé–“ã®å·®åˆ†

# ãƒãƒ¼ã‚¸é †åºã‚’è¨ˆç”»ï¼ˆä¾å­˜é–¢ä¿‚ã‚’è€ƒæ…®ï¼‰
cu merge env-1  # åŸºç›¤æ©Ÿèƒ½ã‹ã‚‰å…ˆã«ãƒãƒ¼ã‚¸
git branch -d cu-env-1  # ãƒãƒ¼ã‚¸å¾Œã«å‰Šé™¤

cu merge env-2  # ä¾å­˜ã™ã‚‹æ©Ÿèƒ½ã‚’å¾Œã§ãƒãƒ¼ã‚¸
git branch -d cu-env-2  # ãƒãƒ¼ã‚¸å¾Œã«å‰Šé™¤
```

### 3. ç«¶åˆãŒç™ºç”Ÿã—ãŸå ´åˆï¼ˆå®Ÿéš›ã®å¯¾å‡¦æ³•ï¼‰

#### ç«¶åˆè§£æ±ºã®æ‰‹é †
```bash
# ãƒãƒ¼ã‚¸ã§ç«¶åˆãŒç™ºç”Ÿã—ãŸå ´åˆ
cu checkout <environment-id>

# ç«¶åˆãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª
git status
git diff --name-only --diff-filter=U  # ç«¶åˆãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

# æ‰‹å‹•ã§ç«¶åˆã‚’è§£æ±º
# ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦ç«¶åˆãƒãƒ¼ã‚«ãƒ¼ã‚’å‰Šé™¤
git add .
git commit -m "Resolve merge conflicts"

# ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ–ãƒ©ãƒ³ãƒã«ãƒãƒ¼ã‚¸
git checkout main
git merge cu-<environment-id>

# ãƒãƒ¼ã‚¸å®Œäº†å¾Œã«ãƒ–ãƒ©ãƒ³ãƒå‰Šé™¤
git branch -d cu-<environment-id>
```

## ğŸ”§ ãƒ–ãƒ©ãƒ³ãƒã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

### è‡ªå‹•åŒ–ã®ãŸã‚ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®š

#### Git ã‚¨ã‚¤ãƒªã‚¢ã‚¹
```bash
# ~/.gitconfig ã«è¿½åŠ 
[alias]
    cu-clean = "!f() { git branch | grep 'cu-' | xargs git branch -d; }; f"
    cu-clean-merged = "!f() { git branch --merged | grep 'cu-' | xargs git branch -d; }; f"
```

#### Shell ã‚¨ã‚¤ãƒªã‚¢ã‚¹
```bash
# ~/.bashrc ã¾ãŸã¯ ~/.zshrc ã«è¿½åŠ 
alias cu-merge-clean='env_id=$1 && cu merge $env_id && git branch -d cu-$env_id'

# ä½¿ç”¨ä¾‹
cu-merge-clean environment-id  # ãƒãƒ¼ã‚¸ã¨å‰Šé™¤ã‚’ä¸€åº¦ã«å®Ÿè¡Œ
```

### å®šæœŸçš„ãªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

#### é€±æ¬¡ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
```bash
#!/bin/bash
# weekly-cleanup.sh

echo "ğŸ§¹ Container-useç’°å¢ƒã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã‚’é–‹å§‹..."

# ãƒãƒ¼ã‚¸æ¸ˆã¿ãƒ–ãƒ©ãƒ³ãƒã®å‰Šé™¤
echo "ğŸ“‹ ãƒãƒ¼ã‚¸æ¸ˆã¿cuãƒ–ãƒ©ãƒ³ãƒã‚’å‰Šé™¤ä¸­..."
git branch --merged | grep "cu-" | xargs -r git branch -d

# å­¤ç«‹ã—ãŸcuãƒ–ãƒ©ãƒ³ãƒã®ç¢ºèª
echo "ğŸ” å­¤ç«‹ã—ãŸcuãƒ–ãƒ©ãƒ³ãƒã‚’ç¢ºèªä¸­..."
git branch | grep "cu-" | while read branch; do
    echo "è­¦å‘Š: $branch ã¯æœªãƒãƒ¼ã‚¸ã®cuãƒ–ãƒ©ãƒ³ãƒã§ã™"
done

echo "âœ… ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å®Œäº†"
```

### ãƒ–ãƒ©ãƒ³ãƒç®¡ç†ã®å¯è¦–åŒ–

#### ç¾åœ¨ã®çŠ¶æ…‹ç¢ºèª
```bash
# ãƒ–ãƒ©ãƒ³ãƒä¸€è¦§ï¼ˆcuãƒ–ãƒ©ãƒ³ãƒã®ã¿ï¼‰
git branch | grep "cu-"

# ãƒªãƒ¢ãƒ¼ãƒˆç’°å¢ƒãƒ–ãƒ©ãƒ³ãƒã®ç¢ºèª
git branch -r | grep "container-use/"

# å„ãƒ–ãƒ©ãƒ³ãƒã®æœ€çµ‚æ›´æ–°
git for-each-ref --format='%(refname:short) %(committerdate)' refs/heads/ | grep "cu-"

# ãƒãƒ¼ã‚¸çŠ¶æ³ç¢ºèª
git branch --merged | grep "cu-"      # ãƒãƒ¼ã‚¸æ¸ˆã¿
git branch --no-merged | grep "cu-"   # æœªãƒãƒ¼ã‚¸
```

#### ãƒ–ãƒ©ãƒ³ãƒçŠ¶æ…‹ã®å›³è§£
```
main â”€â”¬â”€ cu-feature-a â”€â”
      â”‚                â”œâ”€ merge â†’ delete cu-feature-a
      â”œâ”€ cu-feature-b â”€â”˜          delete cu-feature-b
      â”‚
      â””â”€ cu-new-feature â† æœ€æ–°ã®mainçŠ¶æ…‹ã‹ã‚‰ä½œæˆ

remotes/container-use/
â”œâ”€â”€ literate-bulldog    # éç ´å£Šçš„ç¢ºèªå¯èƒ½
â”œâ”€â”€ feature-work        # npx difit container-use/feature-work main
â””â”€â”€ bugfix-work         # npx difit container-use/bugfix-work main
```

## ğŸ¯ æ¨å¥¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆå®Ÿè·µæ¸ˆã¿ï¼‰

### æ—¥å¸¸çš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆéç ´å£Šçš„ç›£è¦–ï¼‰
```bash
# 1. ä½œæ¥­é–‹å§‹å‰ã®æº–å‚™
git checkout main
git pull origin main
cu list  # æ—¢å­˜ç’°å¢ƒç¢ºèª

# 2. ä½œæ¥­é–‹å§‹
claude
> "æ–°æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„"

# 3. ä½œæ¥­é€²æ—ã®ç›£è¦–ï¼ˆéç ´å£Šçš„ï¼‰
npx difit container-use/<env-id> main  # ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç¢ºèª

# 4. ä½œæ¥­å®Œäº†å¾Œã®æœ€çµ‚ç¢ºèª
cu checkout <env-id>  # å¿…è¦ã«å¿œã˜ã¦
npx difit HEAD main   # æœ€çµ‚ãƒã‚§ãƒƒã‚¯

# 5. ãƒãƒ¼ã‚¸ã¨ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
cu merge <env-id>
git branch -d cu-<env-id>  # â† ã“ã‚ŒãŒé‡è¦ï¼

# 6. æ¬¡ã®ä½œæ¥­ã¯å¸¸ã«æœ€æ–°çŠ¶æ…‹ã‹ã‚‰
claude
> "æ¬¡ã®æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„"  # æœ€æ–°ã®mainã‹ã‚‰é–‹å§‹
```

### è¤‡æ•°ç’°å¢ƒç›£è¦–ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
```bash
# 1. è¤‡æ•°ç’°å¢ƒã®åŒæ™‚ä½œæ¥­
cu list

# 2. å„ç’°å¢ƒã®é€²æ—ç¢ºèªï¼ˆéç ´å£Šçš„ï¼‰
npx difit container-use/frontend-work main
npx difit container-use/backend-work main
npx difit container-use/frontend-work container-use/backend-work

# 3. çµ±åˆã®è¨ˆç”»
# ä¾å­˜é–¢ä¿‚ã‚’ç¢ºèªã—ã¦ã‹ã‚‰ãƒãƒ¼ã‚¸é †åºã‚’æ±ºå®š
```

ã“ã®ç®¡ç†æ–¹æ³•ã«ã‚ˆã‚Šï¼š
- âœ… å„ç’°å¢ƒãŒæœ€æ–°ã®ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã§ä½œæ¥­
- âœ… ãƒãƒ¼ã‚¸ç«¶åˆã®æœ€å°åŒ–
- âœ… ä½œæ¥­å±¥æ­´ã®æ˜ç¢ºåŒ–
- âœ… ãƒãƒ¼ãƒ é–‹ç™ºã§ã®æ··ä¹±é˜²æ­¢
- âœ… **å¸¸ã«æœ€æ–°çŠ¶æ…‹ã‹ã‚‰ã®ä½œæ¥­é–‹å§‹**
- âœ… **éç ´å£Šçš„ãªãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–**
- âœ… **GitHubé¢¨UIã§ã®åŠ¹ç‡çš„ãªdiffç¢ºèª**